#ifndef _ARUCO_LOCATING_H
#define _ARUCO_LOCATING_H
#include "pch.h"
#include "types.h"
#include "analysis.h"

// 前端介面
class ArucoLocating {
public:
	ArucoLocating(const std::string& paramsPath="config/params.json", const std::string& settingsPath="config/settings.json");
	//調整偵測aruco detection的參數
	void arucoDetectionSet(const Source source, const std::string& sourcePath);
	// 開始跑
	void run(const Source source, const std::string& sourcePath, const bool BA, const bool monitor, const bool parallel=false);
	void save( std::string path="")const;
	void saveFrames( std::string path = "")const;
	inline void help() const{
		std::cout << "首先透過setSource()選擇影像來源與其路徑\n使用narucoDetectionSet來調整偵測aruco的參數\n沒問題後使用run()開始分析，若要結束分析關掉三維視覺視窗或在視窗上按下exc鍵\n使用save()儲存分析的結果" << std::endl;
	}
private:
	std::string savePath;
	Analysis analyzer;
};
#endif